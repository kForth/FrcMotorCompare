max_rpm = 5676
free_current = 1.8
stall_current = 105
stall_torque = 2.6
peak_power = 406

efficiencies = [3, 3.31,3.722,4.134,4.546,4.958,5.37,5.782,6.194,6.606,7.018,7.43,7.842,8.254,8.666,9.078,9.49,9.902,10.314,10.726,11.138,11.55,11.962,12.374,12.786,13.198,13.61,14.022,14.434,14.846,15.258,15.67,16.082,16.494,16.886,17.233,17.581,17.928,18.275,18.622,18.969,19.316,19.664,20.011,20.358,20.705,21.052,21.4,21.747,22.094,22.441,22.788,23.136,23.483,23.83,24.177,24.524,24.871,25.219,25.566,25.913,26.26,26.607,26.955,27.302,27.649,27.996,28.343,28.691,29.038,29.385,29.732,30.079,30.426,30.774,31.121,31.468,31.815,32.162,32.51,32.857,33.204,33.551,33.898,34.245,34.593,34.94,35.287,35.634,35.981,36.329,36.676,37.023,37.37,37.717,38.065,38.412,38.759,39.106,39.453,39.806,40.168,40.53,40.892,41.254,41.616,41.978,42.34,42.701,43.063,43.425,43.787,44.149,44.511,44.873,45.235,45.597,45.958,46.32,46.682,47.044,47.406,47.768,48.13,48.492,48.853,49.215,49.577,49.939,50.301,50.663,51.025,51.387,51.749,52.11,52.472,52.834,53.196,53.558,53.92,54.282,54.644,55.006,55.367,55.729,56.091,56.453,56.815,57.177,57.539,57.901,58.263,58.624,58.986,59.348,59.712,60.077,60.442,60.807,61.172,61.537,61.902,62.267,62.632,62.998,63.363,63.728,64.093,64.458,64.823,65.188,65.553,65.918,66.283,66.648,67.013,67.378,67.743,68.108,68.473,68.838,69.203,69.569,69.934,70.247,70.467,70.687,70.906,71.126,71.346,71.566,71.785,72.005,72.225,72.445,72.664,72.884,73.104,73.323,73.543,73.763,73.983,74.202,74.422,74.642,74.862,75.081,75.301,75.521,75.74,75.96,76.18,76.428,76.695,76.963,77.23,77.498,77.765,78.033,78.3,78.568,78.835,79.103,79.37,79.638,79.905,80.173,80.441,80.708,80.976,81.243,81.511,81.778,82.046,82.313,82.581,82.848,83.116,83.383,83.651,83.917,84.167,84.416,84.666,84.916,85.166,85.415,85.665,85.915,86.164,86.414,86.664,86.913,87.163,87.413,87.662,87.912,88.162,88.412,88.661,88.911,89.161,89.41,89.66,89.91,90.164,90.422,90.679,90.937,91.194,91.452,91.709,91.967,92.224,92.482,92.739,92.997,93.254,93.512,93.769,94.027,94.284,94.542,94.799,95.057,95.314,95.572,95.829,96.087,96.219,96.344,96.469,96.594,96.719,96.844,96.968,97.093,97.218,97.343,97.468,97.593,97.717,97.842,97.967,98.092,98.217,98.342,98.467,98.591,98.716,98.841,98.966,99.091,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.027,98.684,98.34,97.997,97.654,97.31,96.967,96.624,96.28,95.913,95.521,95.129,94.736,94.344,93.952,93.559,93.167,92.539,91.812,91.085,90.358,89.63,88.903,88.014,86.89,85.766,84.643,83.281,81.449,79.618,77.779,74.247,70.716,66.941,62.821,58.57,53.763,48.957, 47]

headers = "Speed (RPM),Torque (NÂ·m),Current (A),Supplied Power (W),Output Power (W),Efficiency (%),Power Dissipation (W)\n"
file = open("motor_data/neo-curve-data.csv", "w+")
file.write(headers)

for rpm in range(0, max_rpm, 15): #list(range(0, max_rpm-1, 50)) + [max_rpm]:
    progress_percentage = (1 - (rpm / max_rpm))
    line = [
        rpm,
        stall_torque * progress_percentage,
        stall_current * progress_percentage,
        0,
        rpm * 0.285412262 - 0.000050284049*rpm**2,
        efficiencies.pop(0),
        0
    ]
    file.write(",".join([str(e) for e in line]) + "\n")

file.close()

