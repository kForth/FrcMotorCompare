max_rpm = 5676
free_current = 1.8
stall_current = 105
stall_torque = 2.6
peak_power = 406

efficiencies = [1.761,2.136,2.51,2.885,3.306,3.764,4.221,4.679,5.137,5.595,6.052,6.331,6.589,6.846,7.104,7.361,7.619,8.047,8.481,8.914,9.348,9.782,10.215,10.649,11.191,11.74,12.289,12.839,13.388,13.816,14.045,14.273,14.502,14.731,14.96,15.189,15.656,16.218,16.78,17.341,17.903,18.465,19.027,19.589,20.026,20.369,20.713,21.056,21.399,21.743,22.086,22.429,22.773,23.09,23.395,23.7,24.005,24.311,24.616,24.921,25.226,25.531,25.837,26.23,26.664,27.097,27.531,27.965,28.398,28.832,29.266,29.699,30.133,30.567,31,31.434,31.868,32.316,32.774,33.232,33.69,34.147,34.605,35.063,35.303,35.532,35.76,35.989,36.218,36.447,36.729,37.141,37.553,37.965,38.377,38.789,39.201,39.613,40.025,40.437,40.849,41.261,41.673,42.085,42.497,42.943,43.428,43.913,44.397,44.882,45.367,45.851,46.336,46.821,47.306,47.79,48.275,48.76,49.006,49.223,49.44,49.657,49.874,50.09,50.307,50.515,50.721,50.927,51.133,51.339,51.545,51.751,52.049,52.461,52.873,53.285,53.697,54.109,54.521,54.924,55.13,55.336,55.542,55.748,55.954,56.16,56.366,56.704,57.116,57.528,57.94,58.352,58.764,59.176,59.54,59.746,59.952,60.158,60.364,60.57,60.776,60.982,61.419,61.903,62.388,62.873,63.357,63.842,64.184,64.4,64.617,64.834,65.051,65.268,65.485,65.868,66.417,66.966,67.516,68.065,68.614,68.83,69.026,69.222,69.418,69.614,69.811,70.007,70.2,70.379,70.558,70.737,70.916,71.096,71.275,71.454,71.633,71.911,72.24,72.57,72.899,73.229,73.559,73.888,74.218,74.547,74.882,75.226,75.569,75.912,76.256,76.599,76.942,77.286,77.629,77.924,78.174,78.424,78.674,78.923,79.173,79.423,79.672,79.922,80.172,80.421,80.671,80.931,81.215,81.499,81.783,82.067,82.352,82.636,82.92,83.204,83.488,83.772,84.046,84.312,84.578,84.844,85.109,85.375,85.641,85.907,86.173,86.438,86.704,86.96,87.097,87.235,87.372,87.509,87.647,87.784,87.921,88.059,88.196,88.333,88.471,88.675,88.881,89.087,89.293,89.499,89.705,89.911,90.129,90.358,90.587,90.816,91.045,91.274,91.503,91.663,91.815,91.968,92.121,92.273,92.426,92.578,92.731,92.884,93.036,93.308,93.592,93.876,94.16,94.444,94.728,95.013,95.297,95.581,95.865,96.133,96.32,96.507,96.695,96.882,97.069,97.257,97.444,97.631,97.795,97.96,98.125,98.29,98.455,98.619,98.784,98.949,99.114,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.153,99.088,98.892,98.696,98.5,98.303,98.107,97.911,97.715,97.485,97.227,96.97,96.712,96.455,96.197,95.756,95.207,94.658,94.108,93.559,93,92.313,91.626,90.94,90.253,89.29,88.167,87.043,85.919,84.733,83.497,82.261,81.025,78.642,76.067,73.492,70.15,66.717,62.821,58.701,53.453,47.96, 47]

headers = "Speed (RPM),Torque (NÂ·m),Current (A),Supplied Power (W),Output Power (W),Efficiency (%),Power Dissipation (W)\n"
file = open("motor_data/neo-curve-data.csv", "w+")
file.write(headers)

for rpm in range(0, max_rpm, 15): #list(range(0, max_rpm-1, 50)) + [max_rpm]:
    progress_percentage = (1 - (rpm / max_rpm))
    line = [
        rpm,
        stall_torque * progress_percentage,
        stall_current * progress_percentage,
        0,
        rpm * 0.285412262 - 0.000050284049*rpm**2,
        efficiencies.pop(0),
        0
    ]
    file.write(",".join([str(e) for e in line]) + "\n")

file.close()

